(()=>{var e={};e.id=994,e.ids=[994],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},1190:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=r(260),s=r(8203),l=r(5155),i=r.n(l),n=r(7292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o=["",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,218)),"/workspaces/Water-Quality-Analyzer/app/upload/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"/workspaces/Water-Quality-Analyzer/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/workspaces/Water-Quality-Analyzer/app/upload/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/upload/page",pathname:"/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5085:(e,t,r)=>{Promise.resolve().then(r.bind(r,218))},2349:(e,t,r)=>{Promise.resolve().then(r.bind(r,9142))},3377:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},9825:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},9300:()=>{},6916:()=>{},7739:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>o});var a=r(5512),s=r(8009),l=r(1643),i=r(7702);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef(({className:e,variant:t,...r},s)=>(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:t}),e),...r}));d.displayName="Alert",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h5",{ref:r,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));o.displayName="AlertDescription"},3451:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n});var a=r(5512),s=r(8009),l=r(7702);let i=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},9478:(e,t,r)=>{"use strict";r.d(t,{k:()=>N});var a=r(5512),s=r(8009),l=r(6004),i=r(830),n="Progress",[d,o]=(0,l.A)(n),[c,u]=d(n),p=s.forwardRef((e,t)=>{var r,s;let{__scopeProgress:l,value:n=null,max:d,getValueLabel:o=f,...u}=e;(d||0===d)&&!v(d)&&console.error((r=`${d}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let p=v(d)?d:100;null===n||y(n,p)||console.error((s=`${n}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=y(n,p)?n:null,x=g(m)?o(m,p):void 0;return(0,a.jsx)(c,{scope:l,value:m,max:p,children:(0,a.jsx)(i.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":g(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":h(m,p),"data-value":m??void 0,"data-max":p,...u,ref:t})})});p.displayName=n;var m="ProgressIndicator",x=s.forwardRef((e,t)=>{let{__scopeProgress:r,...s}=e,l=u(m,r);return(0,a.jsx)(i.sG.div,{"data-state":h(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...s,ref:t})});function f(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function v(e){return g(e)&&!isNaN(e)&&e>0}function y(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=m;var b=r(7702);let N=s.forwardRef(({className:e,value:t,...r},s)=>(0,a.jsx)(p,{ref:s,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:(0,a.jsx)(x,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));N.displayName=p.displayName},7702:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2281),s=r(4805);function l(...e){return(0,s.QP)((0,a.$)(e))}},9142:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(5512),s=r(8009),l=r(7052),i=r(7850),n=r(6753),d=r(7144),o=r(8678),c=r(7739),u=r(3451),p=r(9478);function m(){let[e,t]=(0,s.useState)(null),[r,m]=(0,s.useState)(null),[x,f]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),b=(0,s.useRef)(null),N=async t=>{if(t.preventDefault(),!e){y("Please select an image to analyze.");return}try{g(!0),y(null);let t=new FormData;t.append("file",e);let r=await fetch("/api/analyze",{method:"POST",body:t});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let a=await r.json();f(a)}catch(e){console.error("Error analyzing image:",e),y("Failed to analyze the image. Please try again.")}finally{g(!1)}},j=(e,t)=>{switch(t){case"ph":if(e>=6.5&&e<=8.5)return"text-green-600";return"text-red-600";case"turbidity":if(e<=5)return"text-green-600";return"text-red-600";default:return"text-gray-600"}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,a.jsxs)(u.Zp,{className:"max-w-3xl mx-auto",children:[(0,a.jsx)(u.aR,{children:(0,a.jsxs)(u.ZB,{className:"text-center text-2xl font-bold flex items-center justify-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-6 h-6"}),"Advanced Water Quality Analyzer"]})}),(0,a.jsxs)(u.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors
              ${e?"border-blue-500":"border-gray-300 hover:border-gray-400"}
              ${h?"opacity-50":""}`,onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]){let r=e.dataTransfer.files[0];if(r.type.startsWith("image/")){t(r),y(null),f(null);let e=new FileReader;e.onloadend=()=>{m(e.result)},e.readAsDataURL(r)}else y("Please upload an image file.")}},onClick:()=>b.current?.click(),children:[(0,a.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];t(r),y(null),f(null);let a=new FileReader;a.onloadend=()=>{m(a.result)},a.readAsDataURL(r)}},className:"hidden"}),r?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("img",{src:r,alt:"Preview",className:"max-h-64 mx-auto rounded-lg shadow-md"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Click or drag to change image"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 mx-auto text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"Drop your water sample image here or click to upload"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Supports: JPG, PNG, GIF"})]})]})]}),h&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center text-blue-600",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{children:"Analyzing water quality..."})]}),(0,a.jsx)(p.k,{value:66,className:"h-1"})]}),v&&(0,a.jsxs)(c.Fc,{variant:"destructive",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)(c.TN,{children:v})]}),x&&(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)(o.A,{className:"w-6 h-6 text-green-500"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Analysis Complete"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Overall Water Quality:"}),(0,a.jsx)("p",{className:`text-2xl font-bold mt-2 ${(e=>{switch(e){case"Excellent":return"text-green-600";case"Good":return"text-blue-600";case"Fair":return"text-yellow-600";case"Poor":return"text-red-600";default:return"text-gray-600"}})(x.overallQuality)}`,children:x.overallQuality})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"pH Level"}),(0,a.jsx)("p",{className:`text-xl font-bold ${j(x.metrics.ph,"ph")}`,children:x.metrics.ph})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Turbidity (NTU)"}),(0,a.jsx)("p",{className:`text-xl font-bold ${j(x.metrics.turbidity,"turbidity")}`,children:x.metrics.turbidity})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Dissolved Oxygen (mg/L)"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:x.metrics.dissolvedOxygen})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Temperature (\xb0C)"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:x.metrics.temperature})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Conductivity (\xb5S/cm)"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:x.metrics.conductivity})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"TDS (mg/L)"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:x.metrics.totalDissolvedSolids})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Recommendations:"}),(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:x.recommendations.map((e,t)=>(0,a.jsx)("li",{className:"text-sm text-gray-600",children:e},t))})]})]}),(0,a.jsx)("button",{onClick:N,disabled:!e||h,className:`w-full py-3 px-4 rounded-lg font-medium text-white 
              transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
              ${!e||h?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:h?"Analyzing...":"Analyze Water Quality"})]})]})})}},9611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>d});var a=r(2740),s=r(6389),l=r.n(s),i=r(1189),n=r.n(i);r(6301),r(2704);let d={title:"Create Next App",description:"Generated by create next app"};function o({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:`${l().variable} ${n().variable} antialiased`,children:e})})}},218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/Water-Quality-Analyzer/app/upload/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/Water-Quality-Analyzer/app/upload/page.tsx","default")},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(8077);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},2704:()=>{},7144:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4825).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8678:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4825).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7052:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4825).A)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},7850:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4825).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,883,77,149],()=>r(1190));module.exports=a})();